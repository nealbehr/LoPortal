<div class="panel panel-default" ng-show="items.length > 0">
    <div class="panel-heading">
        <strong class="panel-title">
            <a class="collapsed" data-toggle="collapse" href="#[[ id ]]" aria-controls="inProcess"><span class="arrow"></span>[[ title ]] <span class="badge">[[ items.length ]]</span></a>
        </strong>
    </div>
    <div id="[[ id ]]" class="panel-collapse collapse">
        <table class="table table-striped">
            <thead>
            <tr>
                <th class="header" ng-click="param.sort()" ng-repeat="param in headParams" ng-class="{headerSortUp: param.isSortedUp(), headerSortDown: param.isSortedDown(), isSortable: true}"><span ng-bind-html="param.title"></span></th>
                <th><span>Actions</span></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="(k,v) in items| orderBy:predicate:reverse">
                <td>
                    <div>[[ v.created_at|fromMysqlDate| date:"MMM d yyyy" ]]</div>
                    [[ v.created_at|fromMysqlDate| date:"hh:mm a" ]]
                </td>
                <td>[[ v.address ]]</td>
                <td>[[ v.request_type|dashboardType ]]</td>
                <td>
                    <a ng-if="v.flyer.pdf_link && v.state == {{ constant('\\LO\\Model\\Entity\\Queue::STATE_APPROVED') }}" ng-href="[[ v.flyer.pdf_link ]]" class="download">Download PDF</a>
                    <a ng-if="v.state == {{ constant('\\LO\\Model\\Entity\\Queue::STATE_REQUESTED') }}" href="#" class="cancel" data-id="[[ v.id ]]" data-state="[[ state ]]" data-index="[[ k ]]">Cancel</a>
                    <span class="action-none" ng-if="v.state == {{ constant('\\LO\\Model\\Entity\\Queue::STATE_DECLINED') }} || v.state == {{ constant('\\LO\\Model\\Entity\\Queue::STATE_LISTING_FLYER_PENDING') }} || (!v.flyer.pdf_link && v.state == {{ constant('\\LO\\Model\\Entity\\Queue::STATE_APPROVED') }})">None</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>