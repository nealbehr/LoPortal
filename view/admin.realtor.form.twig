<form ng-submit="submit(formRealtor, $event)" class="css-form" novalidate name="formRealtor">
    <div class="row edit-user">
        <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">

            <div id="realtorMessage"></div>

            <div class="alert alert-danger fade in" ng-show="!hideErrors && formRealtor.$submitted && !formRealtor.$valid">
                <a ng-href="#" class="close" ng-click="showErrors($event)">close</a>
                <div ng-show="formRealtor.first_name.$error.required">First name is required.</div>
                <div ng-show="formRealtor.$submitted && formRealtor.first_name.$error.loName">First name is invalid.</div>
                <div ng-show="formRealtor.last_name.$error.required">Last name is required.</div>
                <div ng-show="formRealtor.$submitted && formRealtor.last_name.$error.loName">Last name is required.</div>
                <div ng-show="formRealtor.phone.$error.required">Phone is required.</div>
                <div ng-show="formRealtor.$submitted && formRealtor.phone.$error.usaPhoneFormat">
                    Please input a valid US phone number including 3 digit area code and 7 digit number.
                </div>
                <div ng-show="isValidEmail(formRealtor)">
                    <span ng-show="formRealtor.email.$error.email">The entered email is invalid.</span>
                    <span ng-show="formRealtor.email.$error.required">Email is required.</span>
                </div>
                <div ng-show="formRealtor.realty_company_id.$error.required">Company is required.</div>
            </div>

            <h2>[[title]]</h2>
            <div class="main-info">
                <div class="user-photo">
                    <div class="realtor realtor-photo">
                        <img ng-src="[[realtor.photo|defaultImage:'/images/empty-user.png' ]]"
                             alt=""
                             ng-click="realtorPicture.choosePhoto()">
                    </div>
                    <span class="upload">
                        Upload Photo
                        <div>
                            <input id="realtorImage"
                                   type="file"
                                   valid-file
                                   name="realtorfileimage"
                                   ng-model="realtor.photo">
                        </div>
                    </span>
                </div>
                <div class="inputs-holder">
                    <div class="input">
                        <input class="input-lg"
                               type="text"
                               placeholder="First name"
                               lo-name-validator
                               ng-model="realtor.first_name"
                               required=""
                               name="first_name"
                               ng-model-options="{updateOn: 'blur'}">
                    </div>
                    <div class="input">
                        <input class="input-lg"
                               type="text"
                               lo-name-validator
                               placeholder="Last name"
                               ng-model="realtor.last_name"
                               required=""
                               name="last_name"
                               ng-model-options="{updateOn: 'blur'}">
                    </div>
                </div>
            </div>
            <div class="inputs-holder">
                <div class="input">
                    <input class="input-lg"
                           type="text"
                           placeholder="Phone number"
                           usa-phone
                           ng-model="realtor.phone"
                           required=""
                           name="phone"
                           ng-model-options="{updateOn: 'blur'}">
                </div>
                <div class="input">
                    <input class="input-lg"
                           type="email"
                           placeholder="Email address"
                           ng-model="realtor.email"
                           required=""
                           name="email"
                           ng-model-options="{updateOn: 'blur'}">
                </div>
                <div class="input">
                    <input class="input-lg" type="text" placeholder="BRE number" ng-model="realtor.bre_number" name="bre">
                </div>
            </div>
            <select class="form-control input-lg"
                    name="realty_company_id"
                    required=""
                    ng-model="realtor.realty_company_id"
                    ng-options="item.id as item.name for item in realtyCompanies">
                <option style="display:none" value="">select company</option>
            </select>
            <button type="submit" class="btn btn-default btn-lg">Save</button>
            <div class="bottom-nav">
                <a ng-if="realtor.id" ng-href="#" ng-click="delete($event)" class="delete pull-right">Delete realtor</a>
                <a ng-href="/#/" ng-click="cancel($event)" class="back">Cancel</a>
            </div>
        </div>
    </div>
</form>
