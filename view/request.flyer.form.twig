<section class="container">
    <header class="page-title">
        <h1>[[ titles.header ]]</h1>
        <div class="link" ng-if="!request.id">
            <a href="/static/Example Listing Flyer.pdf" target="_blank" class="download">Download Sample</a>
        </div>
    </header>
    <div class="row listing">
        <aside class="sidebar col-sm-3">
            <h2>Loan Officer Info</h2>
            <a href="/#/user/[[ user.id ]]/edit" class="change">Change</a>
            <dl>
                <dt>First Name</dt>
                <dd>[[ user.first_name ]]</dd>
                <dt>Last name</dt>
                <dd>[[ user.last_name ]]</dd>
                <dt>Title</dt>
                <dd>[[ user.title ]]</dd>
                <dt>Sales Director</dt>
                <dd>[[ user.sales_director ]]</dd>
                <dt>Sales Manager Email</dt>
                <dd>[[ user.sales_director_email ]]</dd>
                <dt>Lender</dt>
                <dd>[[ user.lender ]]</dd>
                <dt>Primary Phone</dt>
                <dd>[[ user.phone ]]</dd>
                <dt>Email Address</dt>
                <dd><a ng-href="mailto:[[ user.email ]]">[[ user.email ]]</a></dd>
                <dt>NMLS #</dt>
                <dd>[[ user.nmls ]]</dd>
            </dl>
        </aside>

        <form ng-submit="save(newFlyer)" novalidate name="newFlyer">
            <main class="col-sm-8 col-md-6 col-lg-5 col-sm-offset-1">
                <div id="errors"></div>
                <div ng-show="!hideErrors && newFlyer.$submitted && !newFlyer.$valid" class="alert alert-danger fade in">
                    <a ng-href="#" class="close" aria-label="Close" ng-click="showErrors($event)">close</a>
                    <!-- property photo -->
                    <div ng-show="newFlyer.fileimage.$error.required">The Property image is required.</div>
                    <!-- address -->
                    <div ng-show="newFlyer.address.$error.required">The Property address is required.</div>
                    <div ng-show="newFlyer.address.$error.address_components">The Property address is invalid.</div>
                    <!-- Listing price -->
                    <div ng-show="newFlyer.listing_price.$error.required">The Listing price is required.</div>
                    <!-- realtor photo -->
                    <div ng-show="newFlyer.realtorfileimage.$error.required">The Realtor image is required.</div>
                    <!-- realtor first name -->
                    <div ng-show="newFlyer.first_name.$error.required">The First name is required.</div>
                    <div ng-show="newFlyer.first_name.$error.pattern">The First name is invalid.</div>
                    <!-- realtor last name -->
                    <div ng-show="newFlyer.last_name.$error.required">The Last name is required.</div>
                    <div ng-show="newFlyer.last_name.$error.pattern">The Last name is required.</div>
                    <!-- realtor phone number -->
                    <div ng-show="newFlyer.phone.$error.required">The Phone is required.</div>
                    <div ng-show="newFlyer.phone.$error.pattern">The Phone is invalid.</div>
                    <!-- realtor email -->
                    <div ng-show="newFlyer.email.$error.required">The Email is required.</div>
                    <div ng-show="newFlyer.email.$error.email">The Email is invalid.</div>
                </div>

                <h2>Property Info</h2>
                <div class="thumbnail">
                    <div class="property-photo" style="text-align: center;">
                        <img ng-src="[[ request.property.photo|propertyImage ]]" height="258" alt="" ng-click="propertyPicture.choosePhoto()">
                    </div>
                    <div class="caption">
                        <span class="upload">
                            Upload Property image
                            <div><input class="upload" id="propertyImage" type="file" valid-file name="fileimage" required="" ng-model="request.property.photo"></div>
                        </span>
                    </div>
                </div>
                <div class="inputs-holder">
                    <div class="input">
                        <input ng-readonly="isAddressReadOnly()" ng-keypress="clearAddress($event)" class="input-lg" id="pac-input" name="address" type="text" placeholder="Property Address" validate-google-address ng-model="request.property.address" required="">
                    </div>
                    <div class="input">
                        <input class="input-lg" type="text" placeholder="MLS Number (Optional)" ng-model="request.property.mls_number">
                    </div>
                    <div class="input input-price">
                        <input class="input-lg" type="text" name="listing_price" placeholder="Listing Price" ng-model="request.property.listing_price" required="">
                    </div>
                </div>
                <hr>
                <h2>Realtor Info</h2>
                <div class="main-info">
                    <div class="user-photo">
                        <div class="realtor realtor-photo">
                            <img ng-src="[[ request.realtor.photo|realtorImage ]]" alt="" ng-click="realtorPicture.choosePhoto()">
                        </div>
                        <span class="upload">
                            Upload Photo
                            <div><input id="realtorImage" type="file" valid-file name="realtorfileimage" required="" ng-model="request.realtor.photo"></div>
                        </span>
                    </div>
                    <div class="inputs-holder">
                        <div class="input">
                            <input class="input-lg" type="text" placeholder="First name" ng-pattern="/^[A-Za-z\s]+$/" ng-model="request.realtor.first_name" required="" name="first_name">
                        </div>
                        <div class="input">
                            <input class="input-lg" type="text" ng-pattern="/^[A-Za-z\s]+$/" placeholder="Last name" ng-model="request.realtor.last_name" required="" name="last_name">
                        </div>
                    </div>
                </div>
                <div class="main-info">
                    <div class="user-photo">
                        <div class="company realtor-photo">
                            <img src="images/realtors/realtor.png" alt="">
                        </div>
                        <span class="upload">
                            Upload Photo
                            <div><input type="file" required=""></div>
                        </span>
                    </div>
                    <div class="inputs-holder">
                        <div class="input">
                            <input class="input-lg" type="text" placeholder="Realtor company" ng-pattern="/^[A-Za-z\s]+$/">
                        </div>
                    </div>
                    <a href="#" data-toggle="modal" data-target="#choiceLogo">Link</a>
                </div>
                <div class="inputs-holder">
                    <div class="input">
                        <input class="input-lg" type="text" placeholder="Phone number" ng-pattern="/^\(?(\d{3})\)?[-\. ]?(\d{3})[-\. ]?(\d{4})$/" ng-model="request.realtor.phone" required="" name="phone">
                    </div>
                    <div class="input">
                        <input class="input-lg" type="email" placeholder="Email address" ng-model="request.realtor.email" required="" name="email">
                    </div>
                </div>
                <div class="inputs-holder">
                    <div class="input">
                        <input class="input-lg" type="text" placeholder="BRE number" ng-model="request.realtor.bre_number" name="bre">
                    </div>
                    <div class="input">
                        <input class="input-lg" type="text" placeholder="Real estate agency" ng-model="request.realtor.estate_agency" name="agency">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4 pull-right">
                        <button class="btn btn-default btn-lg">[[ titles.button ]]</button>
                    </div>
                    <div class="col-sm-4 pull-right" ng-if="!request.property.state || request.property.state == states.draft">
                        <button class="btn btn-default btn-lg" ng-click="saveDraft($event)">Save</button>
                    </div>
                    <div class="col-sm-4">
                        <a ng-if="!request.id" ng-href="/#/" class="back">Back to dashboard</a>
                        <a ng-if="request.id" ng-href="/" ng-click="cancel($event);" class="back">Cancel</a>
                    </div>
                </div>
            </main>
        </form>
    </div>
</section>

    <div class="modal fade" id="choiceLogo" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">close</button>
                <h4 class="modal-title">Select company logo</h4>
                <p>Upload a new logo</p>
                <div class="upload-holder">
                    <button type="button" class="btn btn-default">Choose File</button>
                    <input type="file">
                </div>
                
              </div>
              <div class="modal-body">
                  <div class="logo-box">
                     
                    <div class="paging pull-right">
                        1/6
                        <a href="#" class="prev">prev</a>
                        <a href="#" class="next inactive">next</a>
                    </div>
                      Choose an existing logo:
                      <ul>
                          <li><a href="#"><img src="images/realtors/rich-z.png" alt=""></a></li>
                          <li><a href="#"><img src="images/realtors/realtor.png" alt=""></a></li>
                          <li><a href="#"><img src="images/realtors/bradBeacham.png" alt=""></a></li>
                          <li><a href="#"><img src="images/realtors/christian.png" alt=""></a></li>
                          <li><a href="#"><img src="images/realtors/structure.png" alt=""></a></li>
                          <li><a href="#"><img src="images/realtors/realtor.png" alt=""></a></li>
                      </ul>
                  </div>
              </div>
            </div>
        </div>
    </div>